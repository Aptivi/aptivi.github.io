<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <meta name="description" content="Filter your file from VT sequences" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Space Mono:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/fa62c117c7.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
      function filterSequences(text) {
        var content;
        var filteredContent;
        const vtFilter = /(\x9D|\x1B\]).+(\x07|\x9c)|\x1b [F-Nf-n]|\x1b#[3-8]|\x1b%[@Gg]|\x1b[()*+][A-Za-z0-9=`<>]|\x1b[()*+]\"[>4?]|\x1b[()*+]%[0-6=]|\x1b[()*+]&[4-5]|\x1b[-.\/][ABFHLM]|\x1b[6-9Fcl-o=>\|\}~]|(\x9f|\x1b_).+\x9c|(\x90|\x1bP).+\x9c|(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]|(\x9e|\x1b\^).+\x9c|\x1b[DEHMNOVWXYZ78]/gm;
        content = text;
        filteredContent = content.replace(vtFilter, '');
        document.getElementById("progress").value = filteredContent;
      }
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="manifest" href="/assets/site.webmanifest">
    <link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#752efd">
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <meta name="msapplication-TileColor" content="#020143">
    <meta name="msapplication-config" content="/assets/browserconfig.xml">
    <meta name="theme-color" content="#020143">
    <link rel="stylesheet" href="/styles.css" />
    <title>VT Filter (file) â€¢ Aptivi</title>
  </head>
  <body class="dark" id="top">
    <header class="header__holder center">
      <a class="header center" href="/index.html">
        <img class="branding" src="/assets/aptivi-written-transparent.png"> 
      </a>

      <nav class="nav center">
        <ul class="nav__list center">
          <li class="nav__list-item">
            <a class="link link--nav" href="https://officialaptivi.wordpress.com/contact">Contact</a>
          </li>
          <li class="nav__list-item">
            <a class="link link--nav" href="https://officialaptivi.wordpress.com">Blog</a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="mainmargin">
      <!-- About -->
      <div class="about__grid">
        <div class="about">
          <h1 class="titleface">VT Filter (file)</h1>
          <p class="about__desc">
            This app filters the file from all the VT sequences, including the
            CSI sequences, OSC sequences, and many other supported sequences.
            This is useful for files that contain these sequences so that the
            filtered text can be used for printing to consoles that don't
            support these sequences, localizing them, and so on.
          </p>
          <p class="about__desc">
            Click on the Filter button to remove the VT sequences from the
            input file. If you want the Python version of the
            filter, click on the Python icon.
          </p>
          
          <div class="about__contact">
            <a
              href="https://gist.github.com/EoflaOE/efb89e855272f6077b7c4f1d6340933e"
              aria-label="github"
              class="link link--icon"
            >
              <i aria-hidden="true" class="fab fa-python"></i>
            </a>
            <a
              href="/apps/online/vtfilter/vtfilterregexbreakdown.html"
              aria-label="binary download"
              class="link link--icon"
            >
              <i aria-hidden="true" class="fas fa-file-code"></i>
            </a>
          </div>
        </div>
        
        <div class="about">
          <div class="project">
            <div class="project__top">
              <input type="file" id="filename" class="wide" onchange="readfile(this)" />
              <script>
                function readfile(e) {
                  var file = e.files[0];
                  if (!file) {
                    return;
                  }
                  var reader = new FileReader();
                  reader.onload = function(e) {
                    var contents = e.target.result;
                    javascript:filterSequences(contents);
                  };
                  reader.readAsText(file);
                }
              </script>
              <textarea
                id="progress"
                class="project__description wspace_compatible mono wide noresize"
                placeholder="Enter text with escape sequences"
                rows=20
              ></textarea>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <a class="link footer__link titleface">
        Copyright (c) Aptivi. All rights reserved.
      </a>
    </footer>
  </body>
</html>
